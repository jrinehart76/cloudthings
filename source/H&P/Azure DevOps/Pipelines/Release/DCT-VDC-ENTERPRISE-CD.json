{"source":2,"revision":270,"description":null,"createdBy":{"displayName":"Dan Mathias","url":"https://spsprodcus1.vssps.visualstudio.com/A7d24c934-fa7b-4a53-aef6-8b7a6a53d053/_apis/Identities/9aec4c70-b890-6b45-929b-f4ec34eea8d2","_links":{"avatar":{"href":"https://dev.azure.com/client-helmerichpayne/_apis/GraphProfile/MemberAvatars/aad.OWFlYzRjNzAtYjg5MC03YjQ1LTkyOWItZjRlYzM0ZWVhOGQy"}},"id":"9aec4c70-b890-6b45-929b-f4ec34eea8d2","uniqueName":"dmathias@10thmagnitude.com","imageUrl":"https://dev.azure.com/client-helmerichpayne/_apis/GraphProfile/MemberAvatars/aad.OWFlYzRjNzAtYjg5MC03YjQ1LTkyOWItZjRlYzM0ZWVhOGQy","descriptor":"aad.OWFlYzRjNzAtYjg5MC03YjQ1LTkyOWItZjRlYzM0ZWVhOGQy"},"createdOn":"2019-08-29T15:57:13.310Z","modifiedBy":{"displayName":"Dan Mathias","url":"https://spsprodcus1.vssps.visualstudio.com/A7d24c934-fa7b-4a53-aef6-8b7a6a53d053/_apis/Identities/9aec4c70-b890-6b45-929b-f4ec34eea8d2","_links":{"avatar":{"href":"https://dev.azure.com/client-helmerichpayne/_apis/GraphProfile/MemberAvatars/aad.OWFlYzRjNzAtYjg5MC03YjQ1LTkyOWItZjRlYzM0ZWVhOGQy"}},"id":"9aec4c70-b890-6b45-929b-f4ec34eea8d2","uniqueName":"dmathias@10thmagnitude.com","imageUrl":"https://dev.azure.com/client-helmerichpayne/_apis/GraphProfile/MemberAvatars/aad.OWFlYzRjNzAtYjg5MC03YjQ1LTkyOWItZjRlYzM0ZWVhOGQy","descriptor":"aad.OWFlYzRjNzAtYjg5MC03YjQ1LTkyOWItZjRlYzM0ZWVhOGQy"},"modifiedOn":"2019-09-26T16:31:48.423Z","isDeleted":false,"lastRelease":{"id":280,"name":"Release-280","artifacts":[],"_links":{},"description":"Triggered by DCT-VDC-ENTERPRISE 226.","releaseDefinition":{"id":2,"projectReference":null,"_links":{}},"createdOn":"2019-09-26T18:34:00.013Z","createdBy":{"displayName":"Dan Mathias","url":"https://spsprodcus1.vssps.visualstudio.com/A7d24c934-fa7b-4a53-aef6-8b7a6a53d053/_apis/Identities/9aec4c70-b890-6b45-929b-f4ec34eea8d2","_links":{"avatar":{"href":"https://dev.azure.com/client-helmerichpayne/_apis/GraphProfile/MemberAvatars/aad.OWFlYzRjNzAtYjg5MC03YjQ1LTkyOWItZjRlYzM0ZWVhOGQy"}},"id":"9aec4c70-b890-6b45-929b-f4ec34eea8d2","uniqueName":"dmathias@10thmagnitude.com","imageUrl":"https://dev.azure.com/client-helmerichpayne/_apis/GraphProfile/MemberAvatars/aad.OWFlYzRjNzAtYjg5MC03YjQ1LTkyOWItZjRlYzM0ZWVhOGQy","descriptor":"aad.OWFlYzRjNzAtYjg5MC03YjQ1LTkyOWItZjRlYzM0ZWVhOGQy"}},"variables":{"adds-group":{"value":"HPI-SHARED-RG-ADDS-AZC-USE2"},"admin-group":{"value":"HPI-SHARED-RG-ADMIN-AZC-USE2"},"ARM_ACCESS_KEY":{"value":"dgZkK4IDERJmzb+T4bQivwgfuibblI7AMDKK+EXLsWHv2djtIpdVcWV7+XAmNRB6IRKJP5f1MRJfQhBwBRjdvg=="},"ARM_CLIENT_ID":{"value":"63535c3e-a12f-4105-af93-ff827fbfa0a6"},"ARM_CLIENT_SECRET":{"value":"t]m7:I3.5GV2:]+wI6LIPO.LO_[uLWfB"},"ARM_SUBSCRIPTION_ID":{"value":"0a54c483-866a-49c3-be5d-bc02577461cb"},"ARM_TENANT_ID":{"value":"250910f9-edae-4e55-84e6-577411538a91"},"backup-vlt-group":{"value":"HPI-SHARED-RG-OPS-AZC-USE2"},"DEV_ARM_SUBSCRIPTION_ID":{"value":"15d4d38b-0ebc-4c75-b7b3-de78a1f0db14"},"hubResourceGroup":{"value":"HPI-SHARED-RG-HUB-AZC-USE2"},"linux-group":{"value":"HPI-SHARED-RG-LINUX-AZC-USE2"},"location":{"value":"East US 2"},"mgmt-group":{"value":"HPI-SHARED-RG-MGMT-AZC-USE2"},"monitor-group":{"value":"HPI-SHARED-RG-OPS-AZC-USE2"},"PROD_ARM_SUBSCRIPTION_ID":{"value":"35439983-dfa5-4549-b4fd-e4013e6f6bc2"},"spoke2ResourceGroup":{"value":"HPI-SHARED-RG-DEV-SPOKE2-AZC-USC"},"spokeResourceGroup":{"value":"HPI-SHARED-RG-PROD-SPOKE1-AZC-USC"},"subscription":{"value":"HPSharedResources"},"windows-group":{"value":"HPI-SHARED-RG-WINDOWS-AZC-USE2"}},"variableGroups":[],"environments":[{"id":2,"name":"VDC-ENTERPRISE-DEV","rank":1,"owner":{"displayName":"Dan Mathias","url":"https://spsprodcus1.vssps.visualstudio.com/A7d24c934-fa7b-4a53-aef6-8b7a6a53d053/_apis/Identities/9aec4c70-b890-6b45-929b-f4ec34eea8d2","_links":{"avatar":{"href":"https://dev.azure.com/client-helmerichpayne/_apis/GraphProfile/MemberAvatars/aad.OWFlYzRjNzAtYjg5MC03YjQ1LTkyOWItZjRlYzM0ZWVhOGQy"}},"id":"9aec4c70-b890-6b45-929b-f4ec34eea8d2","uniqueName":"dmathias@10thmagnitude.com","imageUrl":"https://dev.azure.com/client-helmerichpayne/_apis/GraphProfile/MemberAvatars/aad.OWFlYzRjNzAtYjg5MC03YjQ1LTkyOWItZjRlYzM0ZWVhOGQy","descriptor":"aad.OWFlYzRjNzAtYjg5MC03YjQ1LTkyOWItZjRlYzM0ZWVhOGQy"},"variables":{},"variableGroups":[],"preDeployApprovals":{"approvals":[{"rank":1,"isAutomated":true,"isNotificationOn":false,"id":4}],"approvalOptions":{"requiredApproverCount":null,"releaseCreatorCanBeApprover":false,"autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped":false,"enforceIdentityRevalidation":false,"timeoutInMinutes":0,"executionOrder":1}},"deployStep":{"id":5},"postDeployApprovals":{"approvals":[{"rank":1,"isAutomated":true,"isNotificationOn":false,"id":6}],"approvalOptions":{"requiredApproverCount":null,"releaseCreatorCanBeApprover":false,"autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped":false,"enforceIdentityRevalidation":false,"timeoutInMinutes":0,"executionOrder":2}},"deployPhases":[{"deploymentInput":{"parallelExecution":{"parallelExecutionType":0},"agentSpecification":{"identifier":"vs2017-win2016"},"skipArtifactsDownload":false,"artifactsDownloadInput":{"downloadInputs":[{"alias":"DCT-VDC-ENTERPRISE-NETWORK","artifactType":"Build","artifactDownloadMode":"All","artifactItems":[]}]},"queueId":18,"demands":[],"enableAccessToken":false,"timeoutInMinutes":0,"jobCancelTimeoutInMinutes":1,"condition":"succeeded()","overrideInputs":{}},"rank":1,"phaseType":1,"name":"Core-Network-ENTERPRISE-VDC","refName":null,"workflowTasks":[{"environment":{},"taskId":"94a74903-f93f-4075-884f-dc11f34058b4","version":"2.*","name":"deployHubNetwork","refName":"","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"ConnectedServiceName":"8ebfd30c-7c07-46c1-94a7-12e15bcf7645","action":"Create Or Update Resource Group","resourceGroupName":"$(hubResourceGroup)","location":"$(location)","templateLocation":"Linked artifact","csmFileLink":"","csmParametersFileLink":"","csmFile":"$(System.DefaultWorkingDirectory)/DCT-VDC-ENTERPRISE-NETWORK/drop/Templates/Network/hub/azureDeploy-hub-network.json","csmParametersFile":"$(System.DefaultWorkingDirectory)/DCT-VDC-ENTERPRISE-NETWORK/drop/Templates/Network/hub/azureDeploy-hub1-network.parameters.json","overrideParameters":"","deploymentMode":"Incremental","enableDeploymentPrerequisites":"None","deploymentGroupEndpoint":"","project":"","deploymentGroupName":"","copyAzureVMTags":"true","runAgentServiceAsUser":"false","userName":"","password":"","outputVariable":"","deploymentName":"","deploymentOutputs":"","addSpnToEnvironment":"false"}},{"environment":{},"taskId":"94a74903-f93f-4075-884f-dc11f34058b4","version":"2.*","name":"deployVpn","refName":"","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"ConnectedServiceName":"8ebfd30c-7c07-46c1-94a7-12e15bcf7645","action":"Create Or Update Resource Group","resourceGroupName":"$(hubResourceGroup)","location":"$(location)","templateLocation":"Linked artifact","csmFileLink":"","csmParametersFileLink":"","csmFile":"$(System.DefaultWorkingDirectory)/DCT-VDC-ENTERPRISE-NETWORK/drop/Templates/Network/vpn/azureDeploy-s2s-vpn-new.json","csmParametersFile":"$(System.DefaultWorkingDirectory)/DCT-VDC-ENTERPRISE-NETWORK/drop/Templates/Network/vpn/azureDeploy-s2s-vpn-new.parameters.json","overrideParameters":"","deploymentMode":"Incremental","enableDeploymentPrerequisites":"None","deploymentGroupEndpoint":"","project":"","deploymentGroupName":"","copyAzureVMTags":"true","runAgentServiceAsUser":"false","userName":"","password":"","outputVariable":"","deploymentName":"","deploymentOutputs":"","addSpnToEnvironment":"false"}},{"environment":{},"taskId":"94a74903-f93f-4075-884f-dc11f34058b4","version":"2.*","name":"deploySpokeNetwork","refName":"","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"ConnectedServiceName":"3c25056c-24a9-40b2-b1f6-ee4f0c8feefd","action":"Create Or Update Resource Group","resourceGroupName":"$(spokeResourceGroup)","location":"$(location)","templateLocation":"Linked artifact","csmFileLink":"","csmParametersFileLink":"","csmFile":"$(System.DefaultWorkingDirectory)/DCT-VDC-ENTERPRISE-NETWORK/drop/Templates/Network/spoke/azureDeploy-spoke-network.json","csmParametersFile":"$(System.DefaultWorkingDirectory)/DCT-VDC-ENTERPRISE-NETWORK/drop/Templates/Network/spoke/azureDeploy-spoke-network.parameters.json","overrideParameters":"","deploymentMode":"Incremental","enableDeploymentPrerequisites":"None","deploymentGroupEndpoint":"","project":"","deploymentGroupName":"","copyAzureVMTags":"true","runAgentServiceAsUser":"false","userName":"","password":"","outputVariable":"","deploymentName":"","deploymentOutputs":"","addSpnToEnvironment":"false"}},{"environment":{},"taskId":"94a74903-f93f-4075-884f-dc11f34058b4","version":"2.*","name":"deploySpoke2Network ","refName":"","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"ConnectedServiceName":"c4c1c198-9e2f-4120-95f0-de4b71ed30ef","action":"Create Or Update Resource Group","resourceGroupName":"$(spoke2ResourceGroup)","location":"$(location)","templateLocation":"Linked artifact","csmFileLink":"","csmParametersFileLink":"","csmFile":"$(System.DefaultWorkingDirectory)/DCT-VDC-ENTERPRISE-NETWORK/drop/Templates/Network/spoke/azureDeploy-spoke2-network.json","csmParametersFile":"$(System.DefaultWorkingDirectory)/DCT-VDC-ENTERPRISE-NETWORK/drop/Templates/Network/spoke/azureDeploy-spoke2-network.parameters.json","overrideParameters":"","deploymentMode":"Incremental","enableDeploymentPrerequisites":"None","deploymentGroupEndpoint":"","project":"","deploymentGroupName":"","copyAzureVMTags":"true","runAgentServiceAsUser":"false","userName":"","password":"","outputVariable":"","deploymentName":"","deploymentOutputs":"","addSpnToEnvironment":"false"}},{"environment":{},"taskId":"94a74903-f93f-4075-884f-dc11f34058b4","version":"2.*","name":"peerHubtoSpoke","refName":"","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"ConnectedServiceName":"e257bd1b-3300-4315-b995-605028184764","action":"Create Or Update Resource Group","resourceGroupName":"$(hubResourceGroup)","location":"$(location)","templateLocation":"Linked artifact","csmFileLink":"","csmParametersFileLink":"","csmFile":"$(System.DefaultWorkingDirectory)/DCT-VDC-ENTERPRISE-NETWORK/drop/Templates/Network/peer/azureDeploy-peer-hub-spoke.json","csmParametersFile":"$(System.DefaultWorkingDirectory)/DCT-VDC-ENTERPRISE-NETWORK/drop/Templates/Network/peer/azureDeploy-peer-hub-spoke-parameters.json","overrideParameters":"","deploymentMode":"Incremental","enableDeploymentPrerequisites":"None","deploymentGroupEndpoint":"","project":"","deploymentGroupName":"","copyAzureVMTags":"true","runAgentServiceAsUser":"false","userName":"","password":"","outputVariable":"","deploymentName":"","deploymentOutputs":"","addSpnToEnvironment":"false"}}]},{"deploymentInput":{"parallelExecution":{"parallelExecutionType":0},"agentSpecification":{"identifier":"vs2017-win2016"},"skipArtifactsDownload":false,"artifactsDownloadInput":{"downloadInputs":[{"alias":"DCT-VDC-ENTERPRISE-NETWORK","artifactType":"Build","artifactDownloadMode":"All","artifactItems":[]}]},"queueId":18,"demands":[],"enableAccessToken":false,"timeoutInMinutes":0,"jobCancelTimeoutInMinutes":1,"condition":"succeeded()","overrideInputs":{}},"rank":2,"phaseType":1,"name":"DCT-VDC-ENTERPRISE-SHAREDSERVICE","refName":null,"workflowTasks":[{"environment":{},"taskId":"72a1931b-effb-4d2e-8fd8-f8472a07cb62","version":"3.*","name":"registerResourceProviders","refName":"","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"ConnectedServiceNameSelector":"ConnectedServiceNameARM","ConnectedServiceName":"","ConnectedServiceNameARM":"8ebfd30c-7c07-46c1-94a7-12e15bcf7645","ScriptType":"FilePath","ScriptPath":"$(System.DefaultWorkingDirectory)/DCT-VDC-ENTERPRISE-NETWORK/drop/Scripts/Powershell/subscription-alignment/registerResourceProviders.ps1","Inline":"# You can write your azure powershell scripts inline here. \n# You can also pass predefined and custom variables to this script using arguments","ScriptArguments":"","errorActionPreference":"stop","FailOnStandardError":"false","TargetAzurePs":"LatestVersion","CustomTargetAzurePs":""}},{"environment":{},"taskId":"72a1931b-effb-4d2e-8fd8-f8472a07cb62","version":"3.*","name":"createPolicyDefn","refName":"","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"ConnectedServiceNameSelector":"ConnectedServiceNameARM","ConnectedServiceName":"","ConnectedServiceNameARM":"8ebfd30c-7c07-46c1-94a7-12e15bcf7645","ScriptType":"FilePath","ScriptPath":"$(System.DefaultWorkingDirectory)/DCT-VDC-ENTERPRISE-NETWORK/drop/Scripts/Powershell/subscription-alignment/createPolicyDefn.ps1","Inline":"# You can write your azure powershell scripts inline here. \n# You can also pass predefined and custom variables to this script using arguments","ScriptArguments":"","errorActionPreference":"stop","FailOnStandardError":"false","TargetAzurePs":"LatestVersion","CustomTargetAzurePs":""}},{"environment":{},"taskId":"94a74903-f93f-4075-884f-dc11f34058b4","version":"2.*","name":"asrVaultDeployment","refName":"","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"ConnectedServiceName":"8ebfd30c-7c07-46c1-94a7-12e15bcf7645","action":"Create Or Update Resource Group","resourceGroupName":"$(admin-group)","location":"$(location)","templateLocation":"Linked artifact","csmFileLink":"","csmParametersFileLink":"","csmFile":"$(System.DefaultWorkingDirectory)/DCT-VDC-ENTERPRISE-NETWORK/drop/Templates/Admin/bkupvault/azureDeploy.bkup-vault.json","csmParametersFile":"$(System.DefaultWorkingDirectory)/DCT-VDC-ENTERPRISE-NETWORK/drop/Templates/Admin/bkupvault/azureDeploy.bkup-vault.parameters.json","overrideParameters":"","deploymentMode":"Incremental","enableDeploymentPrerequisites":"None","deploymentGroupEndpoint":"","project":"","deploymentGroupName":"","copyAzureVMTags":"true","runAgentServiceAsUser":"false","userName":"","password":"","outputVariable":"","deploymentName":"","deploymentOutputs":"","addSpnToEnvironment":"false"}},{"environment":{},"taskId":"94a74903-f93f-4075-884f-dc11f34058b4","version":"2.*","name":"StorageAcctDeployment","refName":"","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"ConnectedServiceName":"8ebfd30c-7c07-46c1-94a7-12e15bcf7645","action":"Create Or Update Resource Group","resourceGroupName":"$(admin-group)","location":"$(location)","templateLocation":"Linked artifact","csmFileLink":"","csmParametersFileLink":"","csmFile":"$(System.DefaultWorkingDirectory)/DCT-VDC-ENTERPRISE-NETWORK/drop/Templates/Admin/storage_acct/azureDeploy-storage-acct.json","csmParametersFile":"$(System.DefaultWorkingDirectory)/DCT-VDC-ENTERPRISE-NETWORK/drop/Templates/Admin/storage_acct/azureDeploy-storage-acct.parameters.json","overrideParameters":"","deploymentMode":"Incremental","enableDeploymentPrerequisites":"None","deploymentGroupEndpoint":"","project":"","deploymentGroupName":"","copyAzureVMTags":"true","runAgentServiceAsUser":"false","userName":"","password":"","outputVariable":"","deploymentName":"","deploymentOutputs":"","addSpnToEnvironment":"false"}},{"environment":{},"taskId":"94a74903-f93f-4075-884f-dc11f34058b4","version":"2.*","name":"keyVaultDeployment","refName":"","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"ConnectedServiceName":"8ebfd30c-7c07-46c1-94a7-12e15bcf7645","action":"Create Or Update Resource Group","resourceGroupName":"$(admin-group)","location":"$(location)","templateLocation":"Linked artifact","csmFileLink":"","csmParametersFileLink":"","csmFile":"$(System.DefaultWorkingDirectory)/DCT-VDC-ENTERPRISE-NETWORK/drop/Templates/Admin/keyvault/azureDeploy-keyvault.json","csmParametersFile":"$(System.DefaultWorkingDirectory)/DCT-VDC-ENTERPRISE-NETWORK/drop/Templates/Admin/keyvault/azureDeploy-keyvault.parameters.json","overrideParameters":"","deploymentMode":"Incremental","enableDeploymentPrerequisites":"None","deploymentGroupEndpoint":"","project":"","deploymentGroupName":"","copyAzureVMTags":"true","runAgentServiceAsUser":"false","userName":"","password":"","outputVariable":"","deploymentName":"","deploymentOutputs":"","addSpnToEnvironment":"false"}},{"environment":{},"taskId":"94a74903-f93f-4075-884f-dc11f34058b4","version":"2.*","name":"OMSDeployment","refName":"","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"ConnectedServiceName":"8ebfd30c-7c07-46c1-94a7-12e15bcf7645","action":"Create Or Update Resource Group","resourceGroupName":"$(monitor-group)","location":"$(location)","templateLocation":"Linked artifact","csmFileLink":"","csmParametersFileLink":"","csmFile":"$(System.DefaultWorkingDirectory)/DCT-VDC-ENTERPRISE-NETWORK/drop/Templates/Monitoring/oms/azuredeploy.json","csmParametersFile":"$(System.DefaultWorkingDirectory)/DCT-VDC-ENTERPRISE-NETWORK/drop/Templates/Monitoring/oms/azuredeploy.parameters.json","overrideParameters":"","deploymentMode":"Incremental","enableDeploymentPrerequisites":"None","deploymentGroupEndpoint":"","project":"","deploymentGroupName":"","copyAzureVMTags":"true","runAgentServiceAsUser":"false","userName":"","password":"","outputVariable":"","deploymentName":"","deploymentOutputs":"","addSpnToEnvironment":"false"}},{"environment":{},"taskId":"72a1931b-effb-4d2e-8fd8-f8472a07cb62","version":"3.*","name":"grabOMS","refName":"","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"ConnectedServiceNameSelector":"ConnectedServiceNameARM","ConnectedServiceName":"","ConnectedServiceNameARM":"8ebfd30c-7c07-46c1-94a7-12e15bcf7645","ScriptType":"FilePath","ScriptPath":"$(System.DefaultWorkingDirectory)/DCT-VDC-ENTERPRISE-NETWORK/drop/Scripts/Powershell/oms/getomsid.ps1","Inline":"# You can write your azure powershell scripts inline here. \n# You can also pass predefined and custom variables to this script using arguments","ScriptArguments":"","errorActionPreference":"stop","FailOnStandardError":"false","TargetAzurePs":"LatestVersion","CustomTargetAzurePs":""}},{"environment":{},"taskId":"94a74903-f93f-4075-884f-dc11f34058b4","version":"2.*","name":"deploySolutions","refName":"","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"ConnectedServiceName":"8ebfd30c-7c07-46c1-94a7-12e15bcf7645","action":"Create Or Update Resource Group","resourceGroupName":"$(monitor-group)","location":"$(location)","templateLocation":"Linked artifact","csmFileLink":"","csmParametersFileLink":"","csmFile":"$(System.DefaultWorkingDirectory)/DCT-VDC-ENTERPRISE-NETWORK/drop/Templates/Monitoring/solutions/backup/azureDeploy-bkupsln.json","csmParametersFile":"$(System.DefaultWorkingDirectory)/DCT-VDC-ENTERPRISE-NETWORK/drop/Templates/Monitoring/solutions/backup/azureDeploy-bkupsln.parameters.json","overrideParameters":"","deploymentMode":"Incremental","enableDeploymentPrerequisites":"None","deploymentGroupEndpoint":"","project":"","deploymentGroupName":"","copyAzureVMTags":"true","runAgentServiceAsUser":"false","userName":"","password":"","outputVariable":"","deploymentName":"","deploymentOutputs":"","addSpnToEnvironment":"false"}}]},{"deploymentInput":{"parallelExecution":{"parallelExecutionType":0},"agentSpecification":{"identifier":"vs2017-win2016"},"skipArtifactsDownload":false,"artifactsDownloadInput":{"downloadInputs":[{"alias":"DCT-VDC-ENTERPRISE-NETWORK","artifactType":"Build","artifactDownloadMode":"All","artifactItems":[]}]},"queueId":18,"demands":[],"enableAccessToken":false,"timeoutInMinutes":0,"jobCancelTimeoutInMinutes":1,"condition":"succeeded()","overrideInputs":{}},"rank":3,"phaseType":1,"name":"DCT-VDC-ENTERPRISE-WINDOWS-ADDS","refName":null,"workflowTasks":[{"environment":{},"taskId":"94a74903-f93f-4075-884f-dc11f34058b4","version":"2.*","name":"windowsAddsDeployment","refName":"","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"ConnectedServiceName":"8ebfd30c-7c07-46c1-94a7-12e15bcf7645","action":"Create Or Update Resource Group","resourceGroupName":"$(adds-group)","location":"$(location)","templateLocation":"Linked artifact","csmFileLink":"","csmParametersFileLink":"","csmFile":"$(System.DefaultWorkingDirectory)/DCT-VDC-ENTERPRISE-NETWORK/drop/Templates/Admin/identity/adds/azureDeploy-adds.json","csmParametersFile":"$(System.DefaultWorkingDirectory)/DCT-VDC-ENTERPRISE-NETWORK/drop/Templates/Admin/identity/adds/azureDeploy-adds.parameters.json","overrideParameters":"","deploymentMode":"Incremental","enableDeploymentPrerequisites":"None","deploymentGroupEndpoint":"","project":"","deploymentGroupName":"","copyAzureVMTags":"true","runAgentServiceAsUser":"false","userName":"","password":"","outputVariable":"","deploymentName":"","deploymentOutputs":"","addSpnToEnvironment":"false"}}]},{"deploymentInput":{"parallelExecution":{"parallelExecutionType":0},"agentSpecification":{"identifier":"vs2017-win2016"},"skipArtifactsDownload":false,"artifactsDownloadInput":{"downloadInputs":[{"alias":"DCT-VDC-ENTERPRISE-NETWORK","artifactType":"Build","artifactDownloadMode":"All","artifactItems":[]}]},"queueId":18,"demands":[],"enableAccessToken":false,"timeoutInMinutes":0,"jobCancelTimeoutInMinutes":1,"condition":"succeeded()","overrideInputs":{}},"rank":4,"phaseType":1,"name":"DCT-VDC-ENTERPRISE-WORKLOADS-WINDOWS","refName":null,"workflowTasks":[{"environment":{},"taskId":"94a74903-f93f-4075-884f-dc11f34058b4","version":"2.*","name":"windowsDeployment","refName":"","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"ConnectedServiceName":"3c25056c-24a9-40b2-b1f6-ee4f0c8feefd","action":"Create Or Update Resource Group","resourceGroupName":"$(windows-group)","location":"$(location)","templateLocation":"Linked artifact","csmFileLink":"","csmParametersFileLink":"","csmFile":"$(System.DefaultWorkingDirectory)/DCT-VDC-ENTERPRISE-NETWORK/drop/Templates/Workloads/windows/azureDeploy-windows.json","csmParametersFile":"$(System.DefaultWorkingDirectory)/DCT-VDC-ENTERPRISE-NETWORK/drop/Templates/Workloads/windows/azureDeploy-windows.parameters.json","overrideParameters":"","deploymentMode":"Incremental","enableDeploymentPrerequisites":"None","deploymentGroupEndpoint":"","project":"","deploymentGroupName":"","copyAzureVMTags":"true","runAgentServiceAsUser":"false","userName":"","password":"","outputVariable":"","deploymentName":"","deploymentOutputs":"","addSpnToEnvironment":"false"}}]},{"deploymentInput":{"parallelExecution":{"parallelExecutionType":0},"agentSpecification":{"identifier":"vs2017-win2016"},"skipArtifactsDownload":false,"artifactsDownloadInput":{"downloadInputs":[{"alias":"DCT-VDC-ENTERPRISE-NETWORK","artifactType":"Build","artifactDownloadMode":"All","artifactItems":[]}]},"queueId":18,"demands":[],"enableAccessToken":false,"timeoutInMinutes":0,"jobCancelTimeoutInMinutes":1,"condition":"succeeded()","overrideInputs":{}},"rank":5,"phaseType":1,"name":"DCT-VDC-ENTERPRISE-WORKLOADS-LINUX","refName":null,"workflowTasks":[{"environment":{},"taskId":"94a74903-f93f-4075-884f-dc11f34058b4","version":"2.*","name":"linuxDeployment","refName":"","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"ConnectedServiceName":"3c25056c-24a9-40b2-b1f6-ee4f0c8feefd","action":"Create Or Update Resource Group","resourceGroupName":"$(linux-group)","location":"$(location)","templateLocation":"Linked artifact","csmFileLink":"","csmParametersFileLink":"","csmFile":"$(System.DefaultWorkingDirectory)/DCT-VDC-ENTERPRISE-NETWORK/drop/Templates/Workloads/linux/azureDeploy-linux.json","csmParametersFile":"$(System.DefaultWorkingDirectory)/DCT-VDC-ENTERPRISE-NETWORK/drop/Templates/Workloads/linux/azureDeploy-linux.parameters.prod.json","overrideParameters":"","deploymentMode":"Incremental","enableDeploymentPrerequisites":"None","deploymentGroupEndpoint":"","project":"","deploymentGroupName":"","copyAzureVMTags":"true","runAgentServiceAsUser":"false","userName":"","password":"","outputVariable":"","deploymentName":"","deploymentOutputs":"","addSpnToEnvironment":"false"}}]},{"deploymentInput":{"parallelExecution":{"parallelExecutionType":0},"agentSpecification":{"identifier":"vs2017-win2016"},"skipArtifactsDownload":false,"artifactsDownloadInput":{"downloadInputs":[{"alias":"DCT-VDC-ENTERPRISE-NETWORK","artifactType":"Build","artifactDownloadMode":"All","artifactItems":[]}]},"queueId":18,"demands":[],"enableAccessToken":false,"timeoutInMinutes":0,"jobCancelTimeoutInMinutes":1,"condition":"succeeded()","overrideInputs":{}},"rank":6,"phaseType":1,"name":"DCT-VDC-ENTERPRISE-WORKLOADS-MGMT","refName":null,"workflowTasks":[{"environment":{},"taskId":"94a74903-f93f-4075-884f-dc11f34058b4","version":"2.*","name":"windowsMGMTDeployment","refName":"","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"ConnectedServiceName":"8ebfd30c-7c07-46c1-94a7-12e15bcf7645","action":"Create Or Update Resource Group","resourceGroupName":"$(mgmt-group)","location":"$(location)","templateLocation":"Linked artifact","csmFileLink":"","csmParametersFileLink":"","csmFile":"$(System.DefaultWorkingDirectory)/DCT-VDC-ENTERPRISE-NETWORK/drop/Templates/Workloads/windows/azureDeploy-windows.json","csmParametersFile":"$(System.DefaultWorkingDirectory)/DCT-VDC-ENTERPRISE-NETWORK/drop/Templates/Workloads/windows/azureDeploy-windows.parameters.json","overrideParameters":"-virtualMachineNamePrefix \"10MWINMGMT\" -windowsOSVersion \"2016-Datacenter\" -virtualNetworkResourceGroupName \"10M-HNET-P\" -existingvNet \"10MVNETP-172.20.0.0_23\" -existingSubnet \"10MMGMTSNP-172.20.0.32_28\" -privateIPAddress [\"172.20.0.38\"] -existingdiagnosticsStorageAccountName \"tenmstore\" -existingdiagnosticsStorageResourceGroup \"10M-CLOUDADMIN-P\"","deploymentMode":"Incremental","enableDeploymentPrerequisites":"None","deploymentGroupEndpoint":"","project":"","deploymentGroupName":"","copyAzureVMTags":"true","runAgentServiceAsUser":"false","userName":"","password":"","outputVariable":"","deploymentName":"","deploymentOutputs":"","addSpnToEnvironment":"false"}}]},{"deploymentInput":{"parallelExecution":{"parallelExecutionType":0},"agentSpecification":{"identifier":"vs2017-win2016"},"skipArtifactsDownload":false,"artifactsDownloadInput":{"downloadInputs":[{"alias":"DCT-VDC-ENTERPRISE-NETWORK","artifactType":"Build","artifactDownloadMode":"All","artifactItems":[]}]},"queueId":18,"demands":[],"enableAccessToken":false,"timeoutInMinutes":0,"jobCancelTimeoutInMinutes":1,"condition":"succeeded()","overrideInputs":{}},"rank":7,"phaseType":1,"name":"DCT-VDC-ENTERPRISE-WORKLOADS-BKUPS","refName":null,"workflowTasks":[{"environment":{},"taskId":"94a74903-f93f-4075-884f-dc11f34058b4","version":"2.*","name":"applyBkups-windows","refName":"","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"ConnectedServiceName":"8ebfd30c-7c07-46c1-94a7-12e15bcf7645","action":"Create Or Update Resource Group","resourceGroupName":"$(backup-vlt-group)","location":"$(location)","templateLocation":"Linked artifact","csmFileLink":"","csmParametersFileLink":"","csmFile":"$(System.DefaultWorkingDirectory)/DCT-VDC-ENTERPRISE-NETWORK/drop/Templates/Workloads/bkups/azureDeploy-bkups.json","csmParametersFile":"$(System.DefaultWorkingDirectory)/DCT-VDC-ENTERPRISE-NETWORK/drop/Templates/Workloads/bkups/azureDeploy-bkups.parameters.json","overrideParameters":"","deploymentMode":"Incremental","enableDeploymentPrerequisites":"None","deploymentGroupEndpoint":"","project":"","deploymentGroupName":"","copyAzureVMTags":"true","runAgentServiceAsUser":"false","userName":"","password":"","outputVariable":"","deploymentName":"","deploymentOutputs":"","addSpnToEnvironment":"false"}},{"environment":{},"taskId":"94a74903-f93f-4075-884f-dc11f34058b4","version":"2.*","name":"applyBkups-MGMT","refName":"","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"ConnectedServiceName":"4a14c8e6-27d3-442c-a196-c1ea5f9f6633","action":"Create Or Update Resource Group","resourceGroupName":"$(mgmt-group)","location":"$(location)","templateLocation":"Linked artifact","csmFileLink":"","csmParametersFileLink":"","csmFile":"$(System.DefaultWorkingDirectory)/DCT-VDC-STANDARD-NETWORK/drop/Templates/Workloads/bkups/azureDeploy-bkups.json","csmParametersFile":"$(System.DefaultWorkingDirectory)/DCT-VDC-STANDARD-NETWORK/drop/Templates/Workloads/bkups/azureDeploy-bkups.parameters.json","overrideParameters":"-existingVirtualMachinesResourceGroup $(mgmt-group) -existingVirtualMachines [\"10MWINMGMT0\"] -existingRecoveryServicesVault \"tenm-recovery-vault\" -existingVaultResourceGroup \"10M-CLOUDADMIN-P\" -existingBackupPolicy \"DailyBackupPolicy\"","deploymentMode":"Incremental","enableDeploymentPrerequisites":"None","deploymentGroupEndpoint":"","project":"","deploymentGroupName":"","copyAzureVMTags":"true","runAgentServiceAsUser":"false","userName":"","password":"","outputVariable":"","deploymentName":"","deploymentOutputs":"","addSpnToEnvironment":"false"}}]},{"deploymentInput":{"parallelExecution":{"parallelExecutionType":0},"agentSpecification":{"identifier":"ubuntu-16.04"},"skipArtifactsDownload":false,"artifactsDownloadInput":{"downloadInputs":[{"alias":"DCT-VDC-ENTERPRISE-NETWORK","artifactType":"Build","artifactDownloadMode":"All","artifactItems":[]}]},"queueId":18,"demands":[],"enableAccessToken":false,"timeoutInMinutes":0,"jobCancelTimeoutInMinutes":1,"condition":"succeeded()","overrideInputs":{}},"rank":8,"phaseType":1,"name":"DCT-VDC-ENTERPRISE-PAN-OVERLAY","refName":null,"workflowTasks":[{"environment":{},"taskId":"d9bafed4-0b18-4f58-968d-86655b4d2ce9","version":"2.*","name":"Update Terraform","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"script":"sudo apt-get install wget unzip\nexport VER=\"0.12.1\"\nwget https://releases.hashicorp.com/terraform/${VER}/terraform_${VER}_linux_amd64.zip\nunzip terraform_${VER}_linux_amd64.zip\nsudo mv terraform /usr/local/bin/\nwhich terraform\nterraform -v\n\n","workingDirectory":"","failOnStderr":"false"}},{"environment":{},"taskId":"d9bafed4-0b18-4f58-968d-86655b4d2ce9","version":"2.*","name":"Install Azure CLI","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"script":"curl -sL https://aka.ms/InstallAzureCLIDeb | sudo bash\n","workingDirectory":"","failOnStderr":"false"}},{"environment":{},"taskId":"d9bafed4-0b18-4f58-968d-86655b4d2ce9","version":"2.*","name":"Accept Marketplace Terms","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"script":"az login --service-principal -u ${ARM_CLIENT_ID} -p ${ARM_CLIENT_SECRET} --tenant ${ARM_TENANT_ID}\naz account set --subscription=${ARM_SUBSCRIPTION_ID}\naz vm image accept-terms --urn paloaltonetworks:vmseries1:byol:8.1.0","workingDirectory":"","failOnStderr":"false"}},{"environment":{},"taskId":"d9bafed4-0b18-4f58-968d-86655b4d2ce9","version":"2.*","name":"Deploy Transit Hub PAN Resources","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"script":"cd DCT-VDC-ENTERPRISE-NETWORK/drop/Terraform/PAN/transit\nterraform init -input=false\nterraform plan -input=false -out=tfplan \nterraform apply -input=false tfplan\n\n","workingDirectory":"","failOnStderr":"false"}},{"environment":{},"taskId":"d9bafed4-0b18-4f58-968d-86655b4d2ce9","version":"2.*","name":"Deploy Prod PAN Resources","refName":"","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"script":"cd DCT-VDC-ENTERPRISE-NETWORK/drop/Terraform/PAN/prod\nterraform init -input=false\nterraform plan -input=false -out=tfplan \nterraform apply -input=false tfplan\n\n","workingDirectory":"","failOnStderr":"false"}},{"environment":{},"taskId":"d9bafed4-0b18-4f58-968d-86655b4d2ce9","version":"2.*","name":"Deploy Non-Prod PAN Resources","refName":"","enabled":false,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"script":"cd DCT-VDC-ENTERPRISE-NETWORK/drop/Terraform/PAN/dev\nterraform init -input=false\nterraform plan -input=false -out=tfplan \nterraform apply -input=false tfplan\n\n","workingDirectory":"","failOnStderr":"false"}}]}],"environmentOptions":{"emailNotificationType":"OnlyOnFailure","emailRecipients":"release.environment.owner;release.creator","skipArtifactsDownload":false,"timeoutInMinutes":0,"enableAccessToken":false,"publishDeploymentStatus":true,"badgeEnabled":false,"autoLinkWorkItems":false,"pullRequestDeploymentEnabled":false},"demands":[],"conditions":[{"name":"ReleaseStarted","conditionType":1,"value":""}],"executionPolicy":{"concurrencyCount":1,"queueDepthCount":0},"schedules":[],"currentRelease":{"id":280,"url":"https://vsrm.dev.azure.com/client-helmerichpayne/68b30242-9c6c-412f-941f-ce724510194d/_apis/Release/releases/280","_links":{}},"retentionPolicy":{"daysToKeep":30,"releasesToKeep":3,"retainBuild":true},"processParameters":{},"properties":{"LinkBoardsWorkItems":{"$type":"System.String","$value":"False"}},"preDeploymentGates":{"id":0,"gatesOptions":null,"gates":[]},"postDeploymentGates":{"id":0,"gatesOptions":null,"gates":[]},"environmentTriggers":[],"badgeUrl":"https://vsrm.dev.azure.com/client-helmerichpayne/_apis/public/Release/badge/68b30242-9c6c-412f-941f-ce724510194d/2/2"}],"artifacts":[{"sourceId":"68b30242-9c6c-412f-941f-ce724510194d:2","type":"Build","alias":"DCT-VDC-ENTERPRISE-NETWORK","definitionReference":{"artifactSourceDefinitionUrl":{"id":"https://dev.azure.com/client-helmerichpayne/_permalink/_build/index?collectionId=c9d9f9fa-9858-4e54-8417-6832508b7953&projectId=68b30242-9c6c-412f-941f-ce724510194d&definitionId=2","name":""},"defaultVersionBranch":{"id":"","name":""},"defaultVersionSpecific":{"id":"","name":""},"defaultVersionTags":{"id":"","name":""},"defaultVersionType":{"id":"latestType","name":"Latest"},"definition":{"id":"2","name":"DCT-VDC-STANDARD"},"definitions":{"id":"","name":""},"IsMultiDefinitionType":{"id":"False","name":"False"},"project":{"id":"68b30242-9c6c-412f-941f-ce724510194d","name":"Enterprise VDC"},"repository":{"id":"","name":""}},"isPrimary":true,"isRetained":false}],"triggers":[{"artifactAlias":"DCT-VDC-ENTERPRISE-NETWORK","triggerConditions":[],"triggerType":1}],"releaseNameFormat":"Release-$(rev:r)","tags":[],"properties":{"DefinitionCreationSource":{"$type":"System.String","$value":"ReleaseImport"},"IntegrateJiraWorkItems":{"$type":"System.String","$value":"false"},"IntegrateBoardsWorkItems":{"$type":"System.String","$value":"False"}},"id":2,"name":"DCT-VDC-ENTERPRISE-CD","path":"\\","projectReference":null,"url":"https://vsrm.dev.azure.com/client-helmerichpayne/68b30242-9c6c-412f-941f-ce724510194d/_apis/Release/definitions/2","_links":{"self":{"href":"https://vsrm.dev.azure.com/client-helmerichpayne/68b30242-9c6c-412f-941f-ce724510194d/_apis/Release/definitions/2"},"web":{"href":"https://dev.azure.com/client-helmerichpayne/68b30242-9c6c-412f-941f-ce724510194d/_release?definitionId=2"}}}